# Lake configuration (maps to Lake proto)
# This file defines the configuration for the ProtoLake
name: "test-lake"
display_name: "test-lake"
description: ""
lake_prefix: ""

# Configuration (maps to LakeConfig proto)
config:
  # Organization name for package naming
  organization: "example"
  
  # MODULE.bazel generation (maps to ModuleBazelConfig proto)
  module_bazel:
    protobuf_version: "27.0"
    grpc_version: "1.64.0"
    rules_proto_grpc_version: "5.0.0"
    # Additional Bazel modules can be added here:
    # additional_modules:
    #   - name: "rules_go"
    #     version: "0.46.0"
  
  # Language defaults inherited by all bundles (maps to LanguageDefaults proto)
  language_defaults:
    # Java configuration (maps to JavaDefaults proto)
    java:
      enabled: true
      group_id: "com.example.proto"
      source_version: "11"
      target_version: "8"
      protobuf_java_version: "4.27.0"
      grpc_java_version: "1.64.0"
      java_multiple_files: true
      java_outer_classname_suffix: "Proto"
      # Additional Maven dependencies can be added:
      # additional_dependencies:
      #   - group_id: "com.google.guava"
      #     artifact_id: "guava"
      #     version: "32.1.3-jre"
      #     scope: "compile"
    
    # Python configuration (maps to PythonDefaults proto)
    python:
      enabled: true
      package_prefix: "example_proto"
      python_version: ">=3.8,<4.0"
      protobuf_version: "5.27.0"
      grpcio_version: "1.64.0"
      stub_type: "pyi"
      # Additional pip dependencies can be added:
      # additional_dependencies:
      #   - "numpy>=1.24.0"
      #   - "pandas>=2.0.0"
    
    # JavaScript configuration (maps to JavaScriptDefaults proto)
    javascript:
      enabled: true
      package_scope: "@example"
      node_version: ">=18"
      google_protobuf_version: "3.21.2"
      grpc_web_version: "1.5.0"
      use_typescript: true
      module_type: "commonjs"
      # Additional npm dependencies can be added:
      # additional_dependencies:
      #   - name: "@types/node"
      #     version: "^20.0.0"
      #     dev_dependency: true
    
    # Go configuration (maps to GoDefaults proto)
    go:
      enabled: false
      module_prefix: "github.com/example/proto"
      go_version: "1.21"
  
  # Build behavior configuration (maps to BuildDefaults proto)
  build_defaults:
    auto_publish_local: true
    base_version: "1.0.0"
  
  # Validation configuration (maps to ValidationConfig proto)
  validation:
    # Path to buf.yaml relative to lake root
    buf_config_path: "./buf.yaml"

# Note: Repository URLs are configured via environment variables:
# MAVEN_REPO_URL - Maven repository URL (default: file://${user.home}/.m2/repository)
# PYPI_URL - PyPI repository URL (default: file://${user.home}/.cache/pip/simple)
# NPM_REGISTRY - NPM registry URL (default: file://${user.home}/.npm)
