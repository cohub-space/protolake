# Lake configuration (maps to Lake proto)
name: "{lakeId}"
display_name: "{displayName}"
description: "{description}"
lake_prefix: "{lakePrefix}"

# Configuration (maps to LakeConfig proto)
config:
  # MODULE.bazel generation (maps to ModuleBazelConfig proto)
  module_bazel:
    protobuf_version: "{protobufVersion}"
    grpc_version: "{grpcVersion}"
    rules_proto_grpc_version: "{rulesProtoGrpcVersion}"
    # Additional Bazel modules can be added here:
    # additional_modules:
    #   - name: "rules_go"
    #     version: "0.60.0"

  # Language defaults inherited by all bundles (maps to LanguageDefaults proto)
  language_defaults:
    # Java configuration (maps to JavaDefaults proto)
    java:
      enabled: {javaEnabled}
      group_id: "{javaGroupId}"
      source_version: "{javaSourceVersion}"
      target_version: "{javaTargetVersion}"
      protobuf_java_version: "{protobufJavaVersion}"
      grpc_java_version: "{grpcJavaVersion}"
      java_multiple_files: {javaMultipleFiles}
      java_outer_classname_suffix: "{javaOuterClassnameSuffix}"

    # Python configuration (maps to PythonDefaults proto)
    python:
      enabled: {pythonEnabled}
      package_prefix: "{pythonPackagePrefix}"
      python_version: "{pythonVersion}"
      protobuf_version: "{pythonProtobufVersion}"
      grpcio_version: "{pythonGrpcioVersion}"
      stub_type: "{pythonStubType}"

    # JavaScript configuration (maps to JavaScriptDefaults proto)
    javascript:
      enabled: {javascriptEnabled}
      package_scope: "{javascriptPackageScope}"
      node_version: "{javascriptNodeVersion}"
      bufbuild_protobuf_version: "{bufbuildProtobufVersion}"
      protoc_gen_es_version: "{protocGenEsVersion}"
      connectrpc_connect_version: "{connectrpcConnectVersion}"
      use_typescript: {javascriptUseTypescript}
      module_type: "{javascriptModuleType}"

    # Go configuration (maps to GoDefaults proto)
    go:
      enabled: {goEnabled}
      module_prefix: "{goModulePrefix}"
      go_version: "{goVersion}"

  # Validation configuration (maps to ValidationConfig proto)
  validation:
    buf_config_path: "{bufConfigPath}"

  # Remote cache configuration (maps to RemoteCacheConfig proto)
  # Uncomment to enable Bazel remote caching for faster CI builds.
  # Activate at runtime with: PROTOLAKE_BAZEL_CONFIG=ci
  # remote_cache:
  #   provider: "gcs"           # "gcs", "http", or "s3"
  #   bucket: "my-bazel-cache"  # GCS/S3 bucket name, or full URL for http
  #   compression: true

  # Local install configuration
  # Uncomment to set default JS targets for --install-local builds.
  # These paths are relative to the lake root.
  # install_local_defaults:
  #   js_targets:
  #     - ../my-electron-app

# Note: Repository URLs are configured via environment variables:
# MAVEN_REPO_URL - Maven repository URL (default: file://<user-home>/.m2/repository)
# PYPI_URL - PyPI repository URL (default: file://<user-home>/.cache/pip/simple)
# NPM_REGISTRY - NPM registry URL (default: file://<user-home>/.npm)
