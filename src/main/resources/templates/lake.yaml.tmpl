# Lake configuration (maps to Lake proto)
# This file defines the configuration for the ProtoLake
name: "{lakeId}"
display_name: "{displayName}"
description: "{description}"
lake_prefix: "{lakePrefix}"

# Configuration (maps to LakeConfig proto)
config:
  # Organization name for package naming
  organization: "{organization}"
  
  # MODULE.bazel generation (maps to ModuleBazelConfig proto)
  module_bazel:
    protobuf_version: "{protobufVersion}"
    grpc_version: "{grpcVersion}"
    rules_proto_grpc_version: "{rulesProtoGrpcVersion}"
    # Additional Bazel modules can be added here:
    # additional_modules:
    #   - name: "rules_go"
    #     version: "0.46.0"
  
  # Language defaults inherited by all bundles (maps to LanguageDefaults proto)
  language_defaults:
    # Java configuration (maps to JavaDefaults proto)
    java:
      enabled: {javaEnabled}
      group_id: "{javaGroupId}"
      source_version: "{javaSourceVersion}"
      target_version: "{javaTargetVersion}"
      protobuf_java_version: "{protobufJavaVersion}"
      grpc_java_version: "{grpcJavaVersion}"
      java_multiple_files: {javaMultipleFiles}
      java_outer_classname_suffix: "{javaOuterClassnameSuffix}"
      # Additional Maven dependencies can be added:
      # additional_dependencies:
      #   - group_id: "com.google.guava"
      #     artifact_id: "guava"
      #     version: "32.1.3-jre"
      #     scope: "compile"
    
    # Python configuration (maps to PythonDefaults proto)
    python:
      enabled: {pythonEnabled}
      package_prefix: "{pythonPackagePrefix}"
      python_version: "{pythonVersion}"
      protobuf_version: "{pythonProtobufVersion}"
      grpcio_version: "{pythonGrpcioVersion}"
      stub_type: "{pythonStubType}"
      # Additional pip dependencies can be added:
      # additional_dependencies:
      #   - "numpy>=1.24.0"
      #   - "pandas>=2.0.0"
    
    # JavaScript configuration (maps to JavaScriptDefaults proto)
    javascript:
      enabled: {javascriptEnabled}
      package_scope: "{javascriptPackageScope}"
      node_version: "{javascriptNodeVersion}"
      google_protobuf_version: "{javascriptProtobufVersion}"
      grpc_web_version: "{javascriptGrpcWebVersion}"
      use_typescript: {javascriptUseTypescript}
      module_type: "{javascriptModuleType}"
      # Additional npm dependencies can be added:
      # additional_dependencies:
      #   - name: "@types/node"
      #     version: "^20.0.0"
      #     dev_dependency: true
    
    # Go configuration (maps to GoDefaults proto)
    go:
      enabled: {goEnabled}
      module_prefix: "{goModulePrefix}"
      go_version: "{goVersion}"
  
  # Build behavior configuration (maps to BuildDefaults proto)
  build_defaults:
    auto_publish_local: {autoPublishLocal}
    base_version: "{baseVersion}"
  
  # Validation configuration (maps to ValidationConfig proto)
  validation:
    # Path to buf.yaml relative to lake root
    buf_config_path: "{bufConfigPath}"

# Note: Repository URLs are configured via environment variables:
# MAVEN_REPO_URL - Maven repository URL (default: file://<user-home>/.m2/repository)
# PYPI_URL - PyPI repository URL (default: file://<user-home>/.cache/pip/simple)
# NPM_REGISTRY - NPM registry URL (default: file://<user-home>/.npm)
